{"version":3,"sources":["apiCalls.tsx","components/Card/Card.tsx","components/Header/Header.tsx","components/Feed/Feed.tsx","components/History/History.tsx","components/NoMatch/NoMatch.tsx","components/SentimentForm/SentimentForm.tsx","components/TopicForm/TopicForm.tsx","components/SavedArticles/SavedArticles.tsx","components/App/App.tsx","index.tsx"],"names":["getArticles","topic","fetch","then","response","checkResponse","data","cleanArticles","results","slice","ok","Error","status","json","articles","map","section","title","abstract","short_url","multimedia","url","shortUrl","sentiment","id","replace","Card","image","updateUserSentiment","storeArticle","toggleSaved","isSaved","className","toUpperCase","onClick","type","href","target","src","alt","Header","assignTopic","to","Feed","unreadArticles","selectedTopic","savedArticles","useState","articleNumber","setArticleNumber","articleCards","article","find","savedArticle","charAt","length","History","history","NoMatch","location","useLocation","pathname","Form","useHistory","submitUserSentiment","userSentiment","push","name","event","preventDefault","document","getElementById","classList","toggle","TopicForm","sectionTopics","SavedArticles","App","setArticles","setUnreadArticles","setHistory","setUserSentiment","setSelectedTopic","setSavedArticles","error","setError","useEffect","cleanedArticles","getSentimentScores","scoredArticles","i","Math","round","catch","message","sortedArticles","getSortedArticles","updateHistory","getUnreadArticles","sort","articleA","articleB","random","filter","historyArticle","Promise","all","score","err","console","log","newUserSentiment","getLocalHistory","JSON","parse","localStorage","getItem","localHistory","newHistory","includes","matchingArticle","setItem","stringify","newSavedArticles","newSavedArticle","path","exact","render","component","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.5e546ddd.chunk.js","sourcesContent":["import { CleanedArticle, Multimedia } from './Models'\n\ninterface OriginalArticle {\n  section: string\n  title: string\n  abstract: string\n  short_url: string\n  multimedia: Multimedia[]\n  url: string\n}\n\ninterface Response {\n  ok: boolean\n  status: number\n  json: any\n}\n\nexport const getArticles = (topic = 'home'): Promise<CleanedArticle[]> => {\n  return (\n    fetch(`https://api.nytimes.com/svc/topstories/v2/${topic}.json?api-key=GKUzDD1VY9ssjZ1AGusX3ci6AeoXCaSr`)\n    .then(response => checkResponse(response))\n    .then(data => cleanArticles(data.results.slice(0,10)))\n  );\n};\n\nconst checkResponse = (response: Response) => {\n  if (!response.ok) {\n    throw new Error(`${ response.status } Error`);\n  }\n  return response.json();\n};\n\nexport const getSentiment = (title: string, abstract: string): Promise<number> => {\n  const text = title + ' ' + abstract;\n  return fetch(`https://api.dandelion.eu/datatxt/sent/v1/?lang=en&text=${text}&token=bb5c7d6176164219af811d2961936511`)\n    .then(response => checkResponse(response))\n    .then(data => data.sentiment.score)\n    .catch(err => console.log('error: ', err))\n};\n\nconst cleanArticles = (articles: OriginalArticle[]): CleanedArticle[] => {\n  return articles.map(({ section, title, abstract, short_url, multimedia, url }: OriginalArticle) => {\n    return ({\n      topic: section,\n      title,\n      abstract,\n      shortUrl: short_url,\n      sentiment: 0,\n      multimedia: multimedia[0],\n      id: url.slice(24, -5).replace(/\\//g, '-')\n    });\n  });\n};\n","import '../Card/Card.css';\n\ninterface Card {\n  id: string\n  shortUrl: string\n  title: string\n  image: string\n  sentiment: number\n  abstract: string\n  updateUserSentiment: (userSentiment: number) => void\n  storeArticle: (id: string) => void\n  topic: string\n  toggleSaved: (id: string) => void\n  isSaved: boolean\n}\n\nconst Card = ({ title, image, id, shortUrl, sentiment, topic, updateUserSentiment, storeArticle, abstract, toggleSaved, isSaved }: Card): JSX.Element => {\n\n  const handleClick = () => {\n    updateUserSentiment(sentiment)\n    storeArticle(id)\n  }\n\n  return (\n    <article className=\"news-card cy-article-card\">\n      <div className=\"card-header\">\n        <p className=\"topic-text\">{topic.toUpperCase()}</p>\n        { isSaved ?\n          <button\n            className=\"save-button\"\n            onClick={ () => toggleSaved(id) }\n            type=\"button\"\n            aria-label=\"Remove article from saved articles\"\n          >\n            <span className=\"material-icons\">\n              bookmark\n            </span>\n          </button>\n\n        : <button\n            className=\"save-button\"\n            onClick={ () => toggleSaved(id) }\n            type=\"button\"\n            aria-label=\"Save article\"\n          >\n            <span className=\"material-icons\">\n              bookmark_border\n            </span>\n          </button>\n        }\n      </div>\n      <a\n        onClick={ handleClick }\n        className=\"cy-article-link\"\n        href={ shortUrl }\n        target='_blank'\n      >\n        <h2 className=\"article-title cy-article-title\">{title}</h2>\n        <img className=\"article-image cy-article-image\" src={image} alt={title} />\n      </a>\n      <p className=\"abstract-text\"> {abstract} </p>\n    </article>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Header.css';\n\ninterface Header {\n  assignTopic: (topic: string) => void\n}\n\nconst Header = ({ assignTopic }: Header): JSX.Element => {\n  return (\n    <header className=\"header\">\n      <Link to='/'>\n        <button className=\"check-in-btn\" aria-label=\"Return to check in question\">\n        </button>\n      </Link>\n      <Link\n        to={'/feed/home'}\n        onClick={() => assignTopic('home')}>\n        <h1 className=\"header-txt cy-header-txt\">\n          Well<span className=\"header-text-2\">News</span>\n        </h1>\n      </Link>\n      <Link to='/search-topic'>\n        <button className=\"list-btn\" aria-label=\"Browse by Topic\"></button>\n      </Link>\n    </header>\n  )\n}\n\n\nexport default Header;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { CleanedArticle } from '../../Models';\nimport Card from '../Card/Card';\nimport Header from '../Header/Header';\nimport './Feed.css';\n\ninterface FeedProps {\n  unreadArticles: CleanedArticle[] | undefined;\n  updateUserSentiment: (userSentiment: number) => void;\n  storeArticle: (id: string) => void;\n  selectedTopic: string;\n  toggleSaved: (id: string) => void;\n  savedArticles: CleanedArticle[];\n  assignTopic: (topic: string) => void\n}\n\nconst Feed = ({ unreadArticles, updateUserSentiment, storeArticle, selectedTopic, toggleSaved, savedArticles, assignTopic }: FeedProps): JSX.Element => {\n  const [articleNumber, setArticleNumber] = useState<number>(0)\n  let articleCards: JSX.Element[] = [];\n\n  if (unreadArticles) {\n    articleCards = unreadArticles.map(article => {\n      let isSaved;\n      if (savedArticles.find(savedArticle => savedArticle.id === article.id)) {\n        isSaved = true;\n      } else {\n        isSaved = false;\n      }\n\n      return  (\n        <Card\n          id={ article.id }\n          shortUrl={ article.shortUrl }\n          title={ article.title }\n          image={ article.multimedia.url }\n          sentiment={ article.sentiment }\n          topic={ article.topic}\n          abstract={ article.abstract }\n          updateUserSentiment={ updateUserSentiment }\n          storeArticle={ storeArticle }\n          toggleSaved={ toggleSaved }\n          isSaved={ isSaved }\n          key={ article.title }\n        />\n      )\n    })\n  }\n\n  const topic = selectedTopic === 'home' ? 'Top News' : selectedTopic.charAt(0).toUpperCase() + selectedTopic.slice(1)\n\n  return (\n    <>\n      <Header assignTopic={ assignTopic }/>\n      <h2>{topic}</h2>\n      <section className=\"articles-container\">\n        { articleCards.length > 0 ?\n          articleCards[articleNumber] :\n          <Link to=\"/topics\" className=\"find-more-btn\">\n            Find more articles by topic\n          </Link>\n        }\n      </section>\n      <div className=\"buffer\"></div>\n      <div className=\"arrow-container\">\n        { !!articleNumber &&\n          <button\n            className=\"backward-arrow-btn\"\n            onClick={() => setArticleNumber(articleNumber - 1)}\n            aria-label=\"Previoius article\"\n          >\n            <span className=\"material-icons\">\n              arrow_back_ios\n            </span>\n          </button>\n        }\n        { articleNumber < articleCards.length - 1 &&\n          <button\n          className=\"forward-arrow-btn\"\n          onClick={() => setArticleNumber(articleNumber + 1)}\n          aria-label=\"Next article\"\n          >\n            <span className=\"material-icons\">\n              arrow_forward_ios\n            </span>\n          </button>\n        }\n      </div>\n    </>\n  );\n};\n\nexport default Feed;\n","import Card from '../Card/Card';\nimport Header from '../Header/Header'\nimport { CleanedArticle } from '../../Models';\nimport '../Feed/Feed.css'\n\ninterface HistoryProps {\n  history: CleanedArticle[];\n  updateUserSentiment: (userSentiment: number) => void\n  storeArticle: (id: string) => void\n  toggleSaved: (id: string) => void\n  savedArticles: CleanedArticle[]\n  assignTopic: (topic: string) => void\n}\n\nconst History = ({ history, storeArticle, updateUserSentiment, toggleSaved, savedArticles, assignTopic }: HistoryProps): JSX.Element => {\n\n  let articleCards: JSX.Element[] = [];\n\n  if (history) {\n    articleCards = history.map((article: CleanedArticle) => {\n      let isSaved;\n      if (savedArticles.find(savedArticle => savedArticle.id === article.id)) {\n        isSaved = true;\n      } else {\n        isSaved = false;\n      }\n\n      return (\n        <Card\n          title={ article.title }\n          image={ article.multimedia.url }\n          key={ article.title }\n          sentiment={ article.sentiment }\n          shortUrl={ article.shortUrl }\n          id={ article.id }\n          topic= { article.topic }\n          abstract= { article.abstract }\n          storeArticle={ storeArticle }\n          updateUserSentiment={ updateUserSentiment }\n          toggleSaved={ toggleSaved }\n          isSaved={ isSaved }\n        />\n      )\n    })\n  }\n\n  return (\n    <>\n      <Header assignTopic={ assignTopic }/>\n      <h2>History</h2>\n      <section className=\"articles-container\">\n        { articleCards.length ? articleCards\n          : <h3 className=\"no-match-message\">Articles you've read will appear here</h3> }\n      </section>\n    </>\n  )\n}\n\nexport default History;\n","import { Link, useLocation } from 'react-router-dom';\n\nconst NoMatch = (): JSX.Element => {\n  const location = useLocation();\n  return (\n    <div>\n      <h3 className=\"cy-error-message\">\n        No match for <code>{location.pathname}</code>\n      </h3>\n      <Link to=\"/feed/home\" className=\"cy-feed-link\">\n        Back to Feed\n      </Link>\n    </div>\n  );\n}\n\nexport default NoMatch\n","import { useHistory } from 'react-router-dom';\nimport './SentimentForm.css';\n\ninterface FormProps {\n  updateUserSentiment: (userSentiment: number) => void;\n}\n\nconst Form = ({ updateUserSentiment }: FormProps): JSX.Element => {\n  const history = useHistory();\n\n  const submitUserSentiment = (userSentiment: number) => {\n      updateUserSentiment(userSentiment);\n      history.push('/feed/home');\n  }\n\n  const showSynopsis = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    const formSynopsis = document.getElementById('synopsisInfo') as HTMLElement;\n    formSynopsis.classList.toggle('hidden');\n  }\n\n  return (\n    <section className=\"questionnaire\">\n      <header className=\"questionnaire-header\">\n        <div className=\"blue-stripe\">\n          <h1 className=\"header-text cy-header-text\">\n            Well<span className=\"header-text-2\">News</span>\n          </h1>\n        </div>\n      </header>\n      <h2 className='cy-sentiment-question'>What kind of mood are you in?</h2>\n      <div className=\"sentiments-container\">\n        <button\n          className=\"sentiment-btn cy-strongly-negative-btn\"\n          aria-label=\"strongly negative\"\n          title=\"strongly negative\"\n          onClick={() => submitUserSentiment(0)}\n        >\n          ‚òπÔ∏è\n        </button>\n        <button\n          className=\"sentiment-btn cy-negative-btn\"\n          aria-label=\"negative\"\n          title=\"negative\"\n          onClick={() => submitUserSentiment(2)}\n        >\n          üôÅ\n        </button>\n        <button\n          className=\"sentiment-btn cy-neutral-btn\"\n          aria-label=\"neutral\"\n          title=\"neutral\"\n          onClick={() => submitUserSentiment(5)}\n        >\n          üòê\n        </button>\n         <button\n          className=\"sentiment-btn cy-positive-btn\"\n          aria-label=\"positive\"\n          title=\"positive\"\n          onClick={() => submitUserSentiment(8)}\n        >\n          üôÇ\n        </button>\n        <button\n          className=\"sentiment-btn cy-strongly-positive-btn\"\n          aria-label=\"strongly positive\"\n          title=\"strongly positive\"\n          onClick={() => submitUserSentiment(10)}\n        >\n          üòÅ\n        </button>\n      </div>\n      <button className='skip-btn' onClick={ () => submitUserSentiment(5) }>\n          Skip\n      </button>\n      <button className=\"view-synopsis-button cy-view-synopsis-button\" name=\"viewSynopsisButton\" onClick={ showSynopsis }>Why we ask? ‚ñΩ</button>\n      <article className=\"hidden wellnews-synopsis cy-wellnews-synopsis\" id=\"synopsisInfo\">\n        <p>Based on your mood and the articles you read, we dynamically sort your feed and nudge you toward sentimental balance. We don't filter your feed.</p>\n        <p>If you prefer, skip the questionnare and we'll sort your feed based only on the articles you read.</p>\n      </article>\n    </section>\n  );\n};\n\nexport default Form;\n","import { Link } from 'react-router-dom';\nimport Header from '../Header/Header';\nimport './TopicForm.css';\n\ninterface TopicFormProps {\n  assignTopic: (selectedTopic: string) => void\n}\n\nconst TopicForm = ({ assignTopic }: TopicFormProps): JSX.Element => {\n\nconst availableTopics = ['arts', 'automobiles', 'books', 'business', 'fashion', 'food', 'health', 'home', 'insider', 'magazine', 'movies', 'nyregion', 'obituaries', 'opinion', 'politics', 'realestate', 'science', 'sports', 'sundayreview', 'technology', 'theater', 't-magazine', 'travel', 'upshot', 'us', 'world'];\n\nconst sectionTopics = availableTopics.map(topic => {\n    return (\n      <Link\n        className=\"topic\"\n        to={`/feed/${topic}`}\n        key={ topic }\n        onClick={() => assignTopic(topic)}>\n        {topic.charAt(0).toUpperCase() + topic.slice(1)}\n      </Link>\n    )\n})\n\n  return (\n    <>\n      <Header assignTopic={ assignTopic }/>\n      <Link to=\"/saved\">\n        <button className=\"saved-btn\" type=\"button\" aria-label=\"Saved articles\">\n          <span className=\"material-icons\">\n            bookmark\n          </span>\n          Saved Articles\n        </button>\n      </Link>\n      <Link to='/history'>\n        <button className=\"history-btn\" type=\"button\" aria-label=\"History\">\n        <span className=\"material-icons\">\n          history\n        </span>\n          History\n        </button>\n      </Link>\n      <form className=\"cy-topic-selection\">\n        { sectionTopics }\n      </form>\n    </>\n  )\n}\n\nexport default TopicForm;\n","import Card from '../Card/Card';\nimport { CleanedArticle } from '../../Models';\nimport Header from '../Header/Header';\nimport '../Feed/Feed.css';\n\ninterface SavedArticlesProps {\n  savedArticles: CleanedArticle[];\n  updateUserSentiment: (userSentiment: number) => void;\n  storeArticle: (id: string) => void;\n  toggleSaved: (id: string) => void;\n  assignTopic: (topic: string) => void\n}\n\nconst SavedArticles = ({ savedArticles, storeArticle, updateUserSentiment, toggleSaved, assignTopic }: SavedArticlesProps): JSX.Element => {\n  let articleCards: JSX.Element[] = [];\n\n  if (savedArticles) {\n    articleCards = savedArticles.map((article: CleanedArticle) => {\n      let isSaved = false;\n      if (savedArticles.find(savedArticle => savedArticle.id === article.id)) {\n        isSaved = true;\n      } else {\n        isSaved = false;\n      }\n\n      return (\n        <Card\n          title={ article.title }\n          image={ article.multimedia.url }\n          key={ article.title }\n          sentiment={ article.sentiment }\n          shortUrl={ article.shortUrl }\n          id={ article.id }\n          topic= { article.topic }\n          abstract= { article.abstract }\n          storeArticle={ storeArticle }\n          toggleSaved={ toggleSaved }\n          updateUserSentiment={ updateUserSentiment }\n          isSaved={ isSaved }\n        />\n      )\n    })\n  }\n\n  return (\n    <>\n      <Header assignTopic={ assignTopic }/>\n      <h2>Saved Articles</h2>\n      <section className=\"articles-container\">\n        { articleCards.length ? articleCards\n          : <h3 className=\"no-match-message\">Saved articles will appear here</h3>\n        }\n      </section>\n    </>\n  )\n}\n\nexport default SavedArticles;\n","import { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { getArticles, getSentiment } from '../../apiCalls';\nimport { CleanedArticle } from '../../Models';\nimport Feed from '../Feed/Feed';\nimport Header from '../Header/Header';\nimport History from '../History/History'\nimport NoMatch from '../NoMatch/NoMatch';\nimport SentimentForm from '../SentimentForm/SentimentForm';\nimport TopicForm from '../TopicForm/TopicForm';\nimport SavedArticles from '../SavedArticles/SavedArticles';\nimport './App.css';\n\nconst App = (): JSX.Element => {\n  const [articles, setArticles] = useState<CleanedArticle[]>([]);\n  const [unreadArticles, setUnreadArticles] = useState<\n    CleanedArticle[] | undefined\n  >([]);\n  const [history, setHistory] = useState<CleanedArticle[]>([]);\n  const [userSentiment, setUserSentiment] = useState<number | null>(null);\n  const [selectedTopic, setSelectedTopic] = useState<string>('home');\n  const [savedArticles, setSavedArticles] = useState<CleanedArticle[]>([]);\n  const [error, setError] = useState('');\n\n  useEffect((): void => {\n    getArticles()\n      .then((cleanedArticles: CleanedArticle[]): void => {\n        getSentimentScores(cleanedArticles)\n          .then((response: number[]) => {\n            const scoredArticles = cleanedArticles.map((article, i) => {\n               article.sentiment = Math.round((response[i] + 1) * 5);\n               return article;\n            });\n            setArticles(scoredArticles);\n          });\n      })\n      .catch(error => setError(error.message));\n  }, []);\n\n  useEffect((): void => {\n    const sortedArticles = getSortedArticles();\n    setArticles(sortedArticles);\n  }, [userSentiment])\n\n  useEffect((): void => {\n    updateHistory();\n    const unreadArticles = getUnreadArticles();\n    setUnreadArticles(unreadArticles);\n  }, [articles])\n\n  const getSortedArticles = (): CleanedArticle[] => {\n    let sortedArticles;\n    if (userSentiment! >= 0 && userSentiment! <= 3) {\n      sortedArticles = articles.slice().sort((articleA, articleB) => {\n        return articleB.sentiment - articleA.sentiment;\n      })\n    } else if (userSentiment! <= 10 && userSentiment! >= 7) {\n      sortedArticles = articles.slice().sort((articleA, articleB) => {\n        return articleA.sentiment - articleB.sentiment;\n      })\n    } else {\n      sortedArticles = articles.slice().sort(() => 0.5 - Math.random());\n    }\n    return sortedArticles;\n  }\n\n  const getUnreadArticles = (): CleanedArticle[] | undefined => {\n    if (history.length) {\n      return articles.filter(article => {\n        return !history.find(historyArticle => historyArticle.id === article.id)\n      })\n    }\n    return articles;\n  }\n\n  const getSentimentScores = (cleanedArticles: CleanedArticle[]): Promise<number[]> => {\n    return Promise.all(\n      cleanedArticles.map((article: CleanedArticle) => {\n        return getSentiment(article.title, article.abstract)\n      })\n    );\n  };\n\n  const updateUserSentiment = (newUserSentiment: number) => {\n    if (userSentiment === null) {\n      return setUserSentiment(newUserSentiment)\n    }\n    setUserSentiment((userSentiment + newUserSentiment) / 2);\n  }\n\n  const assignTopic = (selectedTopic: string): void => {\n    setSelectedTopic(selectedTopic);\n    getArticles(selectedTopic)\n      .then((cleanedArticles: CleanedArticle[]): void => {\n        getSentimentScores(cleanedArticles)\n          .then((response: number[]) => {\n\n            const scoredArticles = cleanedArticles.map((article, i) => {\n               article.sentiment = Math.round((response[i] + 1) * 5);\n               return article;\n            });\n            setArticles(scoredArticles);\n          });\n      })\n      .catch(error => setError(error.message));\n  }\n\n  const getLocalHistory = (): string[] => {\n    return JSON.parse(localStorage.getItem('wellnewsHistory')!);\n  }\n\n  const updateHistory = (): void => {\n    const localHistory = getLocalHistory();\n    if (localHistory && localHistory.length) {\n      const newHistory = articles.filter((article) => {\n        return localHistory.includes(article.id)\n      })\n      setHistory(newHistory)\n    }\n  }\n\n  const storeArticle = (id: string): void => {\n    const matchingArticle = articles.find(article => article.id === id);\n    const localHistory = getLocalHistory();\n    if (!localHistory) {\n      localStorage.setItem('wellnewsHistory', JSON.stringify([id]));\n      return setHistory([matchingArticle!]);\n    } else if (!localHistory.includes(id)) {\n      localHistory.push(id)\n      localStorage.setItem('wellnewsHistory', JSON.stringify(localHistory))\n      setHistory([...history, matchingArticle!]);\n    }\n  }\n\n  const toggleSaved = (id: string): void => {\n    const isSaved = savedArticles.find(savedArticle => {\n      return savedArticle.id === id;\n    })\n    if (!isSaved) {\n      const newSavedArticle = articles.find(article => {\n        return article.id === id;\n      })\n      setSavedArticles([...savedArticles, newSavedArticle!])\n    } else {\n      const newSavedArticles = savedArticles.filter(savedArticle => {\n        return savedArticle.id !== id;\n      })\n      setSavedArticles(newSavedArticles);\n    }\n  }\n\n  const path = `/feed/${selectedTopic}`\n\n  return (\n    <div className=\"app-container\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <SentimentForm updateUserSentiment={ updateUserSentiment } />\n          </Route>\n          <Route\n            path={path}\n            render={() => {\n              return (\n                <>\n                  <Feed\n                    unreadArticles={ unreadArticles }\n                    selectedTopic={ selectedTopic }\n                    updateUserSentiment={ updateUserSentiment }\n                    storeArticle={ storeArticle }\n                    toggleSaved={ toggleSaved }\n                    savedArticles={ savedArticles}\n                    assignTopic={ assignTopic }\n                  />\n                  { !articles.length &&\n                    <h2 className=\"loading-text\">Loading... </h2>\n                  }\n                  { error && <h2>{error}</h2> }\n                </>\n              )\n            }}\n          />\n          <Route exact path=\"/search-topic\">\n            <TopicForm assignTopic={ assignTopic } />\n          </Route>\n          <Route path=\"/saved\">\n            <SavedArticles\n              savedArticles={ savedArticles }\n              storeArticle={ storeArticle }\n              updateUserSentiment={ updateUserSentiment }\n              toggleSaved={ toggleSaved }\n              assignTopic={ assignTopic }\n            />\n          </Route>\n          <Route\n            exact path=\"/history\"\n            render={() => {\n              return (\n                <>\n                  <History\n                    history={ history }\n                    storeArticle={ storeArticle }\n                    updateUserSentiment={ updateUserSentiment }\n                    toggleSaved={ toggleSaved }\n                    savedArticles={ savedArticles }\n                    assignTopic={ assignTopic }\n                  />\n                  { error && <h2>{error}</h2> }\n                </>\n              )\n            }}\n          />\n          <Route path=\"*\" component={NoMatch} />\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}